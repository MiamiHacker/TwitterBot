<%- include("./partials/header.ejs") %>

<form action="test" method="post">

    <input type="text" name="text" id="text"> <br>
    <input type="submit" value="submit">

</form>



<script>

    let isPopupActive = false;

    let textInput = document.getElementById('text');
    textInput.addEventListener('click', ()=>{
        renderPopup();
    });

    async function renderPopup(){
        if(!isPopupActive){
            
            let fetcher = await (await fetch('/test',{method:'POST'})).text();
            console.log('fetch = ', fetcher);
            
            let popupDiv = document.createElement('div');
            popupDiv.innerHTML = fetcher;
            
            let body = document.getElementsByTagName('body');
            
            body[0].append(popupDiv);
            isPopupActive = true;
            
            let closeLoginButton = document.getElementById('closeLoginButton');
            
            closeLoginButton.addEventListener('click',()=>{
                console.log('test');
                body[0].removeChild(popupDiv);
                isPopupActive = false;
            });
            
        }
    }


</script>

<style>
    /* Placeholder */
    *{
        box-sizing: border-box;
    }
    
    #loginDiv{
        background-color: rgba(31, 71, 71, 0.925);
        
        height: 100vh;
        width: 100vw;
        overflow: hidden;

        position:absolute;
        top: 0;
        left: 0;
    
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

</style>